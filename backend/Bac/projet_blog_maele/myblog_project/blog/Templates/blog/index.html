{% load static %}
<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collège Maele - Impavidi Progrediamur</title>
    <link rel="icon" type="image/png" href="{% static 'blog/Images/oiseaux.jpeg' %}">
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* Custom Styles for animations and fine-tuning */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light gray background */
            color: #1a202c; /* Dark gray text */
        }

        /* Animation classes for Intersection Observer */
        .fade-in { opacity: 0; transition: opacity 1s ease-in-out; }
        .fade-in.visible { opacity: 1; }
        .slide-up { opacity: 0; transform: translateY(50px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .slide-up.visible { opacity: 1; transform: translateY(0); }
        .slide-in-left { opacity: 0; transform: translateX(-50px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .slide-in-left.visible { opacity: 1; transform: translateX(0); }
        .slide-in-right { opacity: 0; transform: translateX(50px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .slide-in-right.visible { opacity: 1; transform: translateX(0); }

        /* Hamburger menu transition */
        #mobile-menu { transition: transform 0.3s ease-in-out; }
        
        /* Teacher carousel transition - SMOOTHER ANIMATION */
        #teacher-carousel-track {
            transition: transform 0.8s ease-in-out;
        }

        /* Background Slider */
        #bg-slider .bg-slide { transition: opacity 1.5s ease-in-out; }

        /* Modal transitions */
        .modal { transition: opacity 0.3s ease-in-out; }
        .modal-content { transition: transform 0.3s ease-in-out; }
    </style>
</head>
<body>
    <!-- HEADER & NAVIGATION -->
    <header id="header" class="bg-white/80 backdrop-blur-lg shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#accueil" class="flex items-center space-x-3">
                <img src="{% static 'blog/Images/oiseaux.jpeg' %}" alt="Logo Collège Maele" class="rounded-full w-10 h-10 object-cover">
                <span class="text-xl md:text-2xl font-bold text-blue-700">Collège Maele</span>
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden lg:flex items-center space-x-6">
                <a href="#accueil" class="text-gray-700 hover:text-blue-600 transition duration-300">Accueil</a>
                <a href="#a-propos" class="text-gray-700 hover:text-blue-600 transition duration-300">À Propos</a>
                <a href="#hymne" class="text-gray-700 hover:text-blue-600 transition duration-300">Hymne</a>
                <a href="#histoire" class="text-gray-700 hover:text-blue-600 transition duration-300">Histoire</a>
                <a href="#equipe" class="text-gray-700 hover:text-blue-600 transition duration-300">Équipe</a>
                <a href="#galeries" class="text-gray-700 hover:text-blue-600 transition duration-300">Galeries</a>
                <a href="#dons" class="text-gray-700 hover:text-blue-600 transition duration-300">Dons</a>
                <a href="#blog" class="text-gray-700 hover:text-blue-600 transition duration-300">Blog</a>
                <a href="#contact" class="text-gray-700 hover:text-blue-600 transition duration-300">Contacts</a>
            </div>

            <button data-modal-target="don-principal" class="hidden lg:block bg-gradient-to-r from-blue-600 to-blue-800 text-white font-bold py-2 px-6 rounded-full shadow-lg hover:shadow-xl hover:scale-105 transform transition duration-300">
                Faire un Don
            </button>

            <!-- Mobile Menu Button -->
            <div class="lg:hidden">
                <button id="hamburger-button" class="text-gray-800 focus:outline-none">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </nav>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="lg:hidden fixed top-0 right-0 h-full w-64 bg-white shadow-2xl transform translate-x-full z-50">
            <div class="p-6">
                <button id="close-menu-button" class="absolute top-4 right-4 text-gray-800">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <div class="mt-12 flex flex-col space-y-6">
                    <a href="#accueil" class="mobile-link text-xl text-gray-700 hover:text-blue-600">Accueil</a>
                    <a href="#a-propos" class="mobile-link text-xl text-gray-700 hover:text-blue-600">À Propos</a>
                    <a href="#hymne" class="mobile-link text-xl text-gray-700 hover:text-blue-600">Hymne</a>
                    <a href="#histoire" class="mobile-link text-xl text-gray-700 hover:text-blue-600">Histoire</a>
                    <a href="#equipe" class="mobile-link text-xl text-gray-700 hover:text-blue-600">Équipe</a>
                    <a href="#galeries" class="mobile-link text-xl text-gray-700 hover:text-blue-600">Galeries</a>
                    <a href="#blog" class="mobile-link text-xl text-gray-700 hover:text-blue-600">Blog</a>
                    <a href="#contact" class="mobile-link text-xl text-gray-700 hover:text-blue-600">Contact</a>
                    <button data-modal-target="don-principal" class="mt-4 block w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white text-center font-bold py-3 px-6 rounded-full shadow-lg">
                        Faire un Don
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- HERO SECTION WITH BACKGROUND SLIDER -->
        <section id="accueil" class="relative h-screen flex items-center justify-center text-white overflow-hidden">
            <!-- Background Image Slider -->
            <div id="bg-slider" class="absolute top-0 left-0 w-full h-full">
                <div class="absolute inset-0 bg-black/50 z-10"></div>
                <img src="{% static 'blog/Images/point.jpg' %}" alt="Image d'arrière-plan 1" class="bg-slide absolute w-full h-full object-cover opacity-100">
                <img src="{% static 'blog/Images/campus.jpg' %}" alt="campus" class="bg-slide absolute w-full h-full object-cover opacity-0">
                <img src="{% static 'blog/Images/grotte.jpg' %}" alt="grotte" class="bg-slide absolute w-full h-full object-cover opacity-0">
                <img src="{% static 'blog/Images/drapeau.jpg' %}" alt="Image d'arrière-plan 4" class="bg-slide absolute w-full h-full object-cover opacity-0">
                <img src="{% static 'blog/Images/bbio.jpg' %}" alt="Image d'arrière-plan 5" class="bg-slide absolute w-full h-full object-cover opacity-0">
                <img src="{% static 'blog/Images/facade.jpg' %}" alt="Image d'arrière-plan 6" class="bg-slide absolute w-full h-full object-cover opacity-0">
                <img src="{% static 'blog/Images/point.jpg' %}" alt="Image d'arrière-plan 7" class="bg-slide absolute w-full h-full object-cover opacity-0">
                <img src="{% static 'blog/Images/primaire.jpg' %}" alt="Image d'arrière-plan 8" class="bg-slide absolute w-full h-full object-cover opacity-0">
                <img src="{% static 'blog/Images/cours.jpg' %}" alt="Image d'arrière-plan 9" class="bg-slide absolute w-full h-full object-cover opacity-0">
                <img src="{% static 'blog/Images/point.jpg' %}" alt="Image d'arrière-plan 10" class="bg-slide absolute w-full h-full object-cover opacity-0">
            </div>

            <!-- Slider Controls -->
            <button id="prev-slide" class="absolute left-4 md:left-8 top-1/2 -translate-y-1/2 z-20 bg-white/20 text-white p-3 rounded-full hover:bg-white/40 transition">
                <i class="fas fa-chevron-left fa-lg"></i>
            </button>
            <button id="next-slide" class="absolute right-4 md:right-8 top-1/2 -translate-y-1/2 z-20 bg-white/20 text-white p-3 rounded-full hover:bg-white/40 transition">
                <i class="fas fa-chevron-right fa-lg"></i>
            </button>
            
            <!-- Hero Content -->
            <div class="relative z-20 text-center px-4">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold mb-4 animate-fade-in-down" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.7);">Bienvenue au Collège Maele</h1>
                <p class="text-lg md:text-2xl mb-8 max-w-3xl mx-auto animate-fade-in-up" style="text-shadow: 1px 1px 4px rgba(0,0,0,0.7);">Impavidi Progrediamur.</p>
                <a href="#a-propos" class="bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold py-4 px-10 text-lg rounded-full shadow-lg hover:shadow-2xl hover:scale-105 transform transition duration-300">
                    Découvrir notre collège
                </a>
            </div>
        </section>

        <!-- A PROPOS SECTION -->
        <section id="a-propos" class="py-20 md:py-32 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animated-section fade-in">
                    <h2 class="text-4xl md:text-5xl font-bold text-blue-800 mb-4">Notre Mission, Nos Valeurs</h2>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto">Au Collège Maele, nous nous engageons à offrir une éducation de qualité, favorisant le développement intellectuel, moral et social de chaque élève.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="animated-section slide-in-left">
                        <img src="{% static 'blog/Images/cinquantenaire.jpg' %}" alt="Cours intérieure du College Maele" class="rounded-2xl shadow-2xl w-full">
                    </div>
                    <div class="animated-section slide-in-right">
                        <h3 class="text-3xl font-bold mb-4">Un héritage d'excellence depuis 1939</h3>
                        <p class="text-gray-600 mb-6">Fondé en 1939, le Collège Maele a toujours eu pour objectif de fournir un enseignement de pointe dans un cadre propice à l'épanouissement. Nous cultivons un environnement d'apprentissage stimulant où la curiosité, la pensée critique et la créativité sont encouragées.</p>
                        <div class="space-y-4">
                            <div class="flex items-start space-x-3"><i class="fas fa-check-circle text-blue-600 mt-1"></i><p>Programmes pédagogiques adaptés et évolutifs.</p></div>
                            <div class="flex items-start space-x-3"><i class="fas fa-check-circle text-blue-600 mt-1"></i><p>Soutien personnalisé pour chaque élève.</p></div>
                            <div class="flex items-start space-x-3"><i class="fas fa-check-circle text-blue-600 mt-1"></i><p>Ouverture sur le monde et les nouvelles technologies.</p></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

         <!-- HYMNE SECTION -->
        <section id="hymne" class="py-20 md:py-32 bg-gray-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animated-section fade-in">
                    <h2 class="text-4xl md:text-5xl font-bold text-blue-800 mb-4">L'Hymne du Collège Maele : La MAELIENNE</h2>
                </div>
                <div class="max-w-3xl mx-auto text-center animated-section slide-up">
                    <div class="text-gray-700 text-lg leading-relaxed italic">
                        <p class="mb-4">
                            Salut à toi, ô noble source,<br>
                            D'où jaillit la vie si douce<br>
                            Creuset d'amour et des sciences<br>
                            Maele, nous te chantons.
                        </p>
                        <p class="mb-4">
                            Ô toi noble berceau<br>
                            Tu nous pousses au plus haut<br>
                            Tu nous armes pour la vie.<br>
                        </p>
                        <p class="mb-4">
                            Que ta splendeur brille à jamais<br>
                            Au jour le jour dans notre vie,<br>
                            Afin que tous réalisions, réalisions, réalisions
                        </p>
                        <p class="mb-4">
                            La grande et belle issue<br>
                            Que nous prépares l'institut.
                        </p>
                        <p class="mb-4">
                            <br>
                            Apprends-nous, ô toi notre Mère, <br>
                            La sagesse et la technique <br>
                            Latin-Philo, math physique <br>
                            Patrimoine séculaire
                        </p>
                        <p class="mb-4">
                            Mais surtout apprends-nous<br>
                            A aimer, à servir<br>
                            Notre beau pays : Congo.
                        </p>
                        <p class="mb-4">
                            Ma-e-liens, main dans la main<br>
                            Marchons sans peur du lendemain,<br>
                            Transformons tout sur nos chemins, sur nos chemins, <br> sur nos chemins
                        </p>
                        <p class="mb-4">
                            Que le bon Dieu bénisse<br>
                            Tout nos efforts d'étudiants !<br>
                        </p>
                    </div>
                    <p class="text-sm text-gray-500 mt-8">
                        Paroles : Abbé Buse Meluna<br>
                        Musique : Chovu, Colonel<br> 
                        Fait à Mandombe, le 28 février 1886.
                    </p>
                </div>
            </div>
        </section>

        <!-- HISTOIRE SECTION - UPGRADED LAYOUT -->
        <section id="histoire" class="py-20 md:py-32 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animated-section fade-in">
                    <h2 class="text-4xl md:text-5xl font-bold text-blue-800 mb-4">Nos Préfets des Études</h2>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto">Un hommage aux leaders visionnaires qui ont guidé notre institution à travers les âges.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                    <!-- Préfet 1 -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden animated-section slide-up">
                        <img src="" class="w-full h-64 object-cover" alt="Photo de Père Wittebols">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-blue-700">Père Wittebols</h3>
                            <p class="text-md font-semibold text-gray-500 mb-3">Préfet Fondateur (1939 - 1948)</p>
                            <p class="text-gray-600">A posé les fondations académiques et disciplinaires du collège, instaurant une culture d'excellence et de rigueur qui perdure aujourd'hui. Son leadership a été crucial dans les premières années de notre institution.</p>
                        </div>
                    </div>
                    <!-- Préfet 2 -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden animated-section slide-up">
                        <img src="<img src="{% static 'blog/Images/' %}"" class="w-full h-64 object-cover" alt="Photo du Père Neises">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-blue-700">Père Neises</h3>
                            <p class="text-md font-semibold text-gray-500 mb-3">L'Ère de la Modernisation (1948 - 1957)</p>
                            <p class="text-gray-600">A introduit les nouvelles technologies dans l'enseignement et développé les programmes d'échanges internationaux, ouvrant le collège sur le monde et préparant nos élèves à un avenir globalisé.</p>
                        </div>
                    </div>
                    <!-- Préfet 3 -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden animated-section slide-up">
                        <img src="" class="w-full h-64 object-cover" alt="Photo du Père Roelants Rébelion">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-blue-700">Père Roelants Rébelion</h3>
                            <p class="text-md font-semibold text-gray-500 mb-3">Le Développement Humain (1964 - 1965)</p>
                            <p class="text-gray-600">A mis l'accent sur le bien-être des élèves, la vie parascolaire et l'engagement communautaire, enrichissant l'expérience scolaire au-delà des salles de classe.</p>
                        </div>
                    </div>
                    <!-- Préfet 4 -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden animated-section slide-up">
                        <img src="" class="w-full h-64 object-cover" alt="Photo du Père Lommel">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-blue-700">Père Lommel</h3>
                            <p class="text-md font-semibold text-gray-500 mb-3">Vision pour l'Avenir (1885 - )</p>
                            <p class="text-gray-600">Prépare le collège aux défis du 21e siècle, en se concentrant sur le développement durable, l'innovation pédagogique et l'intelligence émotionnelle de nos élèves.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- EQUIPE SECTION -->
        <section id="equipe" class="py-20 md:py-32 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animated-section fade-in">
                    <h2 class="text-4xl md:text-5xl font-bold text-blue-800 mb-4">Notre Équipe Dédiée</h2>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto">Rencontrez les professionnels passionnés qui œuvrent chaque jour pour l'excellence et le bien-être de nos élèves.</p>
                </div>
                <!-- Direction -->
                <h3 class="text-3xl font-bold text-center mb-10 text-blue-700 animated-section slide-up">Préfecture et Direction Scolaire</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto mb-20">
                    <div class="bg-gray-50 p-6 rounded-xl shadow-lg text-center animated-section slide-up hover:shadow-xl hover:-translate-y-2 transition-all duration-300">
                        <img src="" alt="Préfet des études du College Maele" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                        <h4 class="text-xl font-bold">M. Jean-Claude Kazadi</h4><p class="text-blue-600">Préfet des Etudes</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-xl shadow-lg text-center animated-section slide-up hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 150ms;">
                        <img src="" alt="Directeur des Études" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                        <h4 class="text-xl font-bold">M. Richard Essymandra</h4><p class="text-blue-600">Directeur des Etudes</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-xl shadow-lg text-center animated-section slide-up hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 300ms;">
                        <img src="" alt="Directeur des Etudes" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                        <h4 class="text-xl font-bold">M. ... ... </h4><p class="text-blue-600">Direcetur des Etudes</p>
                    </div>
                </div>
                
                    <!-- Administration -->
                    <h3 class="text-3xl font-bold text-center mb-10 text-blue-700 animated-section slide-up">Secrétariat et Administration</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto mb-20">
                        <div class="bg-gray-50 p-6 rounded-xl shadow-lg text-center animated-section slide-up hover:shadow-xl hover:-translate-y-2 transition-all duration-300">
                            <img src="" alt="Sècretaire" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                            <h4 class="text-xl font-bold">M. ... ...</h4><p class="text-blue-600">Secrétaire</p>
                        </div>
                        <div class="bg-gray-50 p-6 rounded-xl shadow-lg text-center animated-section slide-up hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 150ms;">
                            <img src="" alt="disciplinaire" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                            <h4 class="text-xl font-bold">M. ... ...</h4><p class="text-blue-600">Directeur de discipline</p>
                        </div>
                        <div class="bg-gray-50 p-6 rounded-xl shadow-lg text-center animated-section slide-up hover:shadow-xl hover:-translate-y-2 transition-all duration-300" style="transition-delay: 300ms;">
                            <img src="" alt="Secrétaire Administrative" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                            <h4 class="text-xl font-bold">M. ... ...</h4><p class="text-blue-600">Secrétaire Administrative</p>
                        </div>
                    </div>

                <!-- Teacher Carousel -->
                <h3 class="text-3xl font-bold text-center mb-10 text-blue-700 animated-section slide-up">Notre Corps Enseignant</h3>
                <div class="relative max-w-6xl mx-auto animated-section fade-in">
                    <div id="teacher-carousel" class="overflow-hidden">
                        <div id="teacher-carousel-track" class="flex">
                            <!-- Teacher cards will be dynamically inserted here by JavaScript -->
                        </div>
                    </div>
                    <button id="teacher-prev" class="absolute top-1/2 -translate-y-1/2 -left-4 md:-left-12 bg-white/80 backdrop-blur-sm text-blue-700 p-3 rounded-full shadow-lg hover:bg-blue-600 hover:text-white transition"><i class="fas fa-chevron-left"></i></button>
                    <button id="teacher-next" class="absolute top-1/2 -translate-y-1/2 -right-4 md:-right-12 bg-white/80 backdrop-blur-sm text-blue-700 p-3 rounded-full shadow-lg hover:bg-blue-600 hover:text-white transition"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </section>
        <!-- GALERIE PHOTO -->
                <section id="galeries" class="py-20 md:py-32 bg-gray-50">
             <div class="container mx-auto px-6">
                <div class="text-center mb-16 animated-section fade-in">
                    <h2 class="text-4xl md:text-5xl font-bold text-blue-800 mb-4">La Vie au Collège</h2>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto">Plongez au cœur de notre quotidien à travers notre galerie photos.</p>
                </div>

        <div id="photo-gallery" class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <!-- Thumbs injectées par JS ci‑dessous -->
        </div>
    </div>
                </section>

        <!-- DONS SECTION - WITH MODALS -->
        <section id="dons" class="py-20 md:py-32 bg-gray-50">
            <div class="container mx-auto px-6 text-center">
                 <div class="max-w-4xl mx-auto animated-section fade-in">
                    <h2 class="text-4xl md:text-5xl font-bold text-blue-800 mb-4">Soutenez le Collège Maele</h2>
                    <p class="text-lg text-gray-600 mb-12">Votre générosité nous aide à enrichir l'expérience éducative de nos élèves. Chaque don compte !</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-blue-500 animated-section slide-up">
                            <i class="fas fa-mobile-alt text-5xl text-blue-500 mb-4"></i>
                            <h4 class="text-2xl font-bold mb-2">Paiement Mobile</h4>
                            <p class="text-gray-600 mb-6">Effectuez un don rapide via les services locaux.</p>
                            <button data-modal-target="don-mobile" class="bg-blue-500 text-white font-semibold py-3 px-8 rounded-lg hover:bg-blue-600 transition duration-300">Voir numéros</button>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-2xl border-t-4 border-blue-700 transform md:scale-110 animated-section slide-up" style="transition-delay: 150ms;">
                            <i class="fas fa-credit-card text-5xl text-blue-700 mb-4"></i>
                            <h4 class="text-2xl font-bold mb-2">Carte & Banque</h4>
                            <p class="text-gray-600 mb-6">Plateforme sécurisée pour cartes et virements.</p>
                            <button data-modal-target="don-banque" class="bg-gradient-to-r from-blue-600 to-blue-800 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition duration-300">Voir infos</button>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-blue-500 animated-section slide-up" style="transition-delay: 300ms;">
                            <i class="fas fa-hands-helping text-5xl text-blue-500 mb-4"></i>
                            <h4 class="text-2xl font-bold mb-2">Don Matériel</h4>
                            <p class="text-gray-600 mb-6">Contactez-nous pour les dons d'articles ou de meubles.</p>
                            <a href="#contact" class="bg-blue-500 text-white font-semibold py-3 px-8 rounded-lg hover:bg-blue-600 transition duration-300">Nous Contacter</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- BLOG SECTION: connecté au back-end Django -->
<section id="blog" class="py-20 md:py-32 bg-white">
    <div class="container mx-auto px-6">
        <div class="text-center mb-12 animated-section fade-in">
            <h2 class="text-4xl md:text-5xl font-bold text-blue-800 mb-4">Notre Blog</h2>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">Restez informés des dernières nouvelles et événements.</p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8">
            {% for article in articles %}
            <a href="{% url 'detail_article' id_article=article.id %}" class="bg-gray-50 rounded-xl shadow-lg overflow-hidden flex flex-col animated-section slide-up hover:shadow-xl hover:-translate-y-2 transition-all duration-300">
                {% if article.image %}
                    <img src="{{ article.image.url }}" alt="{{ article.titre }}" class="w-full h-56 object-cover">
                {% else %}
                    <img src="{% static 'blog/Images/default-article.jpg' %}" alt="{{ article.titre }}" class="w-full h-56 object-cover">
                {% endif %}
                <div class="p-6 flex flex-col flex-grow">
                    <div class="flex items-center text-sm text-gray-500 mb-2">
                        <span class="mr-2"><i class="fas fa-user-circle"></i> {{ article.auteur }}</span>
                        <span class="ml-4"><i class="fas fa-calendar-alt"></i> {{ article.date_publication|date:"d F Y" }}</span>
                    </div>
                    <h3 class="text-xl font-bold mb-3">{{ article.titre }}</h3>
                    <p class="text-gray-600 mb-4 flex-grow">{{ article.contenu|truncatewords:22 }}</p>
                    <span class="self-start text-blue-600 font-semibold hover:text-blue-800">Lire la suite <i class="fas fa-arrow-right ml-1"></i></span>
                </div>
            </a>
            {% endfor %}
        </div>

        <div class="text-center mt-6">
            <a href="{% url 'accueil' %}" class="inline-block bg-blue-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-blue-700 transition">
                Voir tous les articles
            </a>
        </div>
    </div>
</section>

        <!-- CONTACT SECTION avec carte fonctionnelle -->
        <section id="contact" class="py-20 md:py-32 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-blue-800">Contactez-nous</h2>
                </div>
                <div class="grid md:grid-cols-2 gap-8 items-start">
                    <div class="bg-white p-6 rounded-xl shadow">
                        <h3 class="font-semibold mb-4">Coordonnées</h3>
                        <p class="mb-2"><strong>Adresse:</strong> 123 Rue de l'Excellence, Kisangani, RDC</p>
                        <p class="mb-2"><strong>Téléphone:</strong> +243 812 345 678</p>
                        <p class="mb-2"><strong>Email:</strong> contact@collegemaele.cd</p>
                        <div class="mt-6 flex gap-3">
                            <a href="https://wa.me/243812345678" target="_blank" rel="noopener" class="text-green-400 text-2xl"><i class="fab fa-whatsapp"></i></a>
                            <a href="https://facebook.com/collegemaele" target="_blank" rel="noopener" class="text-blue-600 text-2xl"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://instagram.com/collegemaele" target="_blank" rel="noopener" class="text-pink-500 text-2xl"><i class="fab fa-instagram"></i></a>
                            <a href="https://www.linkedin.com/company/collegemaele" target="_blank" rel="noopener" class="text-sky-500 text-2xl"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>

                    <!-- Carte fonctionnelle (OpenStreetMap / Google maps fallback) -->
                    <div class="rounded-xl overflow-hidden shadow">
                        <iframe
                            width="100%" height="360"
                            frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
                            src="https://www.google.com/maps?q=Kisangani,+RDC&output=embed">
                        </iframe>
                    </div>
                </div>
            </div>
        </section>

    <!-- FOOTER -->
    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div class="md:col-span-1"><h3 class="text-xl font-bold mb-4">Collège Maele</h3><p class="text-gray-400">Former les leaders de demain avec excellence et intégrité.</p></div>
                <div><h4 class="font-semibold mb-4">Liens Rapides</h4><ul class="space-y-2"><li><a href="#a-propos" class="text-gray-400 hover:text-white">À Propos</a></li><li><a href="#equipe" class="text-gray-400 hover:text-white">Notre Équipe</a></li><li><a href="#blog" class="text-gray-400 hover:text-white">Blog</a></li><li><a href="#contact" class="text-gray-400 hover:text-white">Contact</a></li></ul></div>
                 <div><h4 class="font-semibold mb-4">Contact Info</h4><ul class="space-y-2 text-gray-400"><li>123 Rue de l'Excellence</li><li>Kisangani, RDC</li><li>contact@collegemaele.cd</li><li>+243 812 345 678</li></ul></div>
                 <div><h4 class="font-semibold mb-4">Suivez-nous</h4><div class="flex space-x-4"><a href="https://wa.me/243812345678" class="text-green-400 hover:text-white text-2xl"><i class="fab fa-whatsapp"></i></a><a href="https://facebook.com/collegemaele" class="text-blue-600 hover:text-white text-2xl"><i class="fab fa-facebook-f"></i></a><a href="https://instagram.com/collegemaele" class="text-pink-500 hover:text-white text-2xl"><i class="fab fa-instagram"></i></a><a href="https://www.linkedin.com/company/collegemaele" class="text-sky-500 hover:text-white text-2xl"><i class="fab fa-linkedin-in"></i></a></div></div>
            </div>
            <div class="border-t border-gray-700 pt-6 text-center text-gray-500 text-sm">© <span id="current-year"></span> Collège Maele. Desing By Optimum Entreprise. Tous droits réservés.</div>
        </div>
    </footer>

     <!-- MODALS SECTION -->
    <div id="don-mobile" class="modal fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden items-center justify-center p-4 opacity-0">
        <div class="modal-content bg-white w-full max-w-md p-8 rounded-2xl shadow-2xl transform scale-95 opacity-0">
            <button class="modal-close absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl">×</button>
            <div class="text-center"><i class="fas fa-mobile-alt text-5xl text-blue-500 mb-4"></i><h3 class="text-2xl font-bold mb-4">Don par Paiement Mobile</h3></div>
            <p class="text-center text-gray-600 mb-6">Envoyez votre don à l'un des numéros ci-dessous.</p>
            <div class="space-y-3 text-lg"><p><strong>Airtel Money:</strong> +243 99 00 11 222</p><p><strong>M-Pesa:</strong> +243 81 11 22 333</p></div>
        </div>
    </div>
    <div id="don-banque" class="modal fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden items-center justify-center p-4 opacity-0">
        <div class="modal-content bg-white w-full max-w-md p-8 rounded-2xl shadow-2xl transform scale-95 opacity-0">
            <button class="modal-close absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl">×</button>
            <div class="text-center"><i class="fas fa-university text-5xl text-blue-700 mb-4"></i><h3 class="text-2xl font-bold mb-4">Don par Banque ou Carte</h3></div>
            <p class="text-center text-gray-600 mb-6">Utilisez les informations suivantes pour un virement.</p>
            <div class="space-y-3 text-left text-md bg-gray-100 p-4 rounded-lg"><p><strong>Nom du Compte:</strong> Association Collège Maele</p><p><strong>Banque:</strong> Trust Merchant Bank (TMB)</p><p><strong>Numéro de Compte:</strong> 1234-56789012-34</p></div>
        </div>
    </div>
    <div id="don-principal" class="modal fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden items-center justify-center p-4 opacity-0">
        <div class="modal-content bg-white w-full max-w-lg p-8 rounded-2xl shadow-2xl transform scale-95 opacity-0">
            <button class="modal-close absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl">×</button>
            <div class="text-center"><i class="fas fa-donate text-5xl text-blue-600 mb-4"></i><h3 class="text-2xl font-bold mb-4">Choisissez votre mode de Don</h3></div>
            <p class="text-center text-gray-600 mb-8">Sélectionnez la méthode qui vous convient.</p>
            <div class="flex flex-col md:flex-row gap-4">
                <button data-modal-target="don-mobile" class="flex-1 bg-blue-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-600 transition">Paiement Mobile</button>
                <button data-modal-target="don-banque" class="flex-1 bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-800 transition">Banque / Carte</button>
            </div>
        </div>
    </div>

    <!-- Donation Modal: Generic for main button -->
    <div id="don-principal" class="modal fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="modal-content bg-white w-full max-w-lg p-8 rounded-2xl shadow-2xl transform scale-95">
            <button class="modal-close absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl">×</button>
            <div class="text-center"><i class="fas fa-donate text-5xl text-blue-600 mb-4"></i><h3 class="text-2xl font-bold mb-4">Choisissez votre mode de Don</h3></div>
            <p class="text-center text-gray-600 mb-8">Votre soutien est précieux. Sélectionnez la méthode qui vous convient le mieux.</p>
            <div class="flex flex-col md:flex-row gap-4">
                <button data-modal-target="don-mobile" class="modal-switch-btn flex-1 bg-blue-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-600 transition duration-300">Paiement Mobile</button>
                <button data-modal-target="don-banque" class="modal-switch-btn flex-1 bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-800 transition duration-300">Banque / Carte</button>
            </div>
        </div>
    </div>
    
    <!-- Photo Gallery Modal -->
    <div id="gallery-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="relative"><button id="modal-close" class="absolute -top-12 right-0 text-white text-4xl">×</button><img id="modal-img" src="" alt="Image de la galerie" class="max-w-[90vw] max-h-[85vh] rounded-lg shadow-2xl"><button id="modal-prev" class="absolute top-1/2 -translate-y-1/2 left-4 text-white text-3xl bg-black/30 p-2 rounded-full"><i class="fas fa-chevron-left"></i></button><button id="modal-next" class="absolute top-1/2 -translate-y-1/2 right-4 text-white text-3xl bg-black/30 p-2 rounded-full"><i class="fas fa-chevron-right"></i></button></div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- HAMBURGER MENU ---
        const hamburgerButton = document.getElementById('hamburger-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const closeMenuButton = document.getElementById('close-menu-button');
        const mobileLinks = document.querySelectorAll('.mobile-link');
        hamburgerButton.addEventListener('click', () => mobileMenu.classList.remove('translate-x-full'));
        closeMenuButton.addEventListener('click', () => mobileMenu.classList.add('translate-x-full'));
        mobileLinks.forEach(link => link.addEventListener('click', () => mobileMenu.classList.add('translate-x-full')));

        // --- BACKGROUND SLIDER ---
        const bgSlider = document.getElementById('bg-slider');
        const slides = bgSlider.querySelectorAll('.bg-slide');
        const prevBtn = document.getElementById('prev-slide');
        const nextBtn = document.getElementById('next-slide');
        let currentSlide = 0;
        let slideInterval;

        function showSlide(index) {
            slides.forEach((slide, i) => { slide.style.opacity = i === index ? '1' : '0'; });
            currentSlide = index;
        }
        function nextSlide() { showSlide((currentSlide + 1) % slides.length); }
        function prevSlide() { showSlide((currentSlide - 1 + slides.length) % slides.length); }
        function startSlider() { slideInterval = setInterval(nextSlide, 7000); }
        function stopSlider() { clearInterval(slideInterval); }
        nextBtn.addEventListener('click', () => { nextSlide(); stopSlider(); startSlider(); });
        prevBtn.addEventListener('click', () => { prevSlide(); stopSlider(); startSlider(); });
        bgSlider.addEventListener('mouseenter', () => { stopSlider(); showSlide(0); });
        bgSlider.addEventListener('mouseleave', startSlider);
        startSlider();

        // --- SCROLL ANIMATIONS ---
        const animatedSections = document.querySelectorAll('.animated-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        animatedSections.forEach(section => observer.observe(section));
        
        // --- TEACHER CAROUSEL ---
        const teacherCarouselTrack = document.getElementById('teacher-carousel-track');
        const teacherPrevBtn = document.getElementById('teacher-prev');
        const teacherNextBtn = document.getElementById('teacher-next');
        const teacherCount = 65;
        let teacherCurrentIndex = 0;
        let teacherSlidesToShow = getTeacherSlidesToShow();
        let teacherAutoScroll;

        const matieres = ["Mathématiques", "Physique", "Chimie", "Français", "Histoire", "Géographie", "Anglais", "Biologie", "Philosophie", "Sport"];
        for (let i = 1; i <= teacherCount; i++) {
            const matiere = matieres[i % matieres.length];
            const card = document.createElement('div');
            card.className = "flex-shrink-0 w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 p-3";
            card.innerHTML = `<div class="bg-white rounded-lg shadow-md p-4 text-center hover:shadow-xl transition-shadow duration-300"><img src="https://placehold.co/120x120/A0AEC0/FFFFFF?text=P${i}" alt="Professeur ${i}" class="w-24 h-24 rounded-full mx-auto mb-3 border-4 border-gray-200"><h5 class="font-bold">Prof. #${i}</h5><p class="text-sm text-blue-600">${matiere}</p></div>`;
            teacherCarouselTrack.appendChild(card);
        }

        function getTeacherSlidesToShow() {
            if (window.innerWidth >= 1280) return 5; if (window.innerWidth >= 1024) return 4; if (window.innerWidth >= 768) return 3; return 2;
        }
        function updateTeacherCarousel() {
            const cardWidth = teacherCarouselTrack.children[0].getBoundingClientRect().width;
            teacherCarouselTrack.style.transform = `translateX(-${teacherCurrentIndex * cardWidth}px)`;
        }
        function moveTeacherCarousel(direction) {
            const totalItems = teacherCount; teacherCurrentIndex += direction;
            if (teacherCurrentIndex < 0) { teacherCurrentIndex = totalItems - teacherSlidesToShow; } 
            else if (teacherCurrentIndex > totalItems - teacherSlidesToShow) { teacherCurrentIndex = 0; }
            updateTeacherCarousel();
        }
        function startTeacherAutoScroll() { teacherAutoScroll = setInterval(() => moveTeacherCarousel(1), 5000); }
        function stopTeacherAutoScroll() { clearInterval(teacherAutoScroll); }
        teacherNextBtn.addEventListener('click', () => { moveTeacherCarousel(1); stopTeacherAutoScroll(); startTeacherAutoScroll(); });
        teacherPrevBtn.addEventListener('click', () => { moveTeacherCarousel(-1); stopTeacherAutoScroll(); startTeacherAutoScroll(); });
        window.addEventListener('resize', () => { teacherSlidesToShow = getTeacherSlidesToShow(); updateTeacherCarousel(); });
        startTeacherAutoScroll();

        // --- DYNAMIC PHOTO GALLERY ---
        const photoGallery = document.getElementById('photo-gallery');
        const galleryModal = document.getElementById('gallery-modal');
        const modalImg = document.getElementById('modal-img');
        const modalClose = document.getElementById('modal-close');
        const modalPrev = document.getElementById('modal-prev');
        const modalNext = document.getElementById('modal-next');

        const images = Array.from({length: 12}, (_, i) => ({ thumb: `https://placehold.co/400x400/63B3ED/FFFFFF?text=Photo+${i+1}`, full: `https://placehold.co/1200x800/63B3ED/FFFFFF?text=Photo+${i+1}`}));
        let currentImageIndex = 0;

        //images.forEach((img, index) => {
           // const a = document.createElement('a'); a.href = img.full; a.dataset.index = index;
          //  a.className = "block relative overflow-hidden rounded-lg shadow-md animated-section slide-up";
          //  a.innerHTML = `<img src="${img.thumb}" alt="Photo ${index + 1}" class="w-full h-full object-cover transform hover:scale-110 transition-transform duration-300"><div class="absolute inset-0 bg-black/20 hover:bg-black/40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300"><i class="fas fa-search-plus text-white text-3xl"></i></div>`;
         //   photoGallery.appendChild(a);
        //    a.addEventListener('click', (e) => { e.preventDefault(); currentImageIndex = index; openGalleryModal(img.full); });
     //   });

        function openGalleryModal(src) { modalImg.src = src; galleryModal.classList.remove('hidden'); galleryModal.classList.add('flex'); }
        function closeGalleryModal() { galleryModal.classList.add('hidden'); galleryModal.classList.remove('flex'); }
        function showGalleryImage(index) {
            if (index < 0) index = images.length - 1; if (index >= images.length) index = 0;
            currentImageIndex = index; modalImg.src = images[currentImageIndex].full;
        }
        modalClose.addEventListener('click', closeGalleryModal);
        galleryModal.addEventListener('click', (e) => { if (e.target === galleryModal) closeGalleryModal(); });
        modalPrev.addEventListener('click', () => showGalleryImage(currentImageIndex - 1));
        modalNext.addEventListener('click', () => showGalleryImage(currentImageIndex + 1));
        document.addEventListener('keydown', (e) => { if (!galleryModal.classList.contains('hidden')) { if (e.key === 'Escape') closeGalleryModal(); if (e.key === 'ArrowLeft') showGalleryImage(currentImageIndex - 1); if (e.key === 'ArrowRight') showGalleryImage(currentImageIndex + 1); } });

        // --- DONATION MODALS LOGIC ---
        const allModals = document.querySelectorAll('.modal');
        const modalTriggers = document.querySelectorAll('[data-modal-target]');

        modalTriggers.forEach(button => {
            button.addEventListener('click', () => {
                const targetModalId = button.getAttribute('data-modal-target');
                const targetModal = document.getElementById(targetModalId);
                if (targetModal) {
                    allModals.forEach(m => m.classList.add('hidden')); // Close any open modal
                    openModal(targetModal);
                }
            });
        });
        
        allModals.forEach(modal => {
            const closeButton = modal.querySelector('.modal-close');
            if (closeButton) {
                closeButton.addEventListener('click', () => closeModal(modal));
            }
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal(modal);
            });
        });

        document.querySelectorAll('.modal-switch-btn').forEach(button => {
             button.addEventListener('click', (e) => {
                e.stopPropagation();
                const currentModal = button.closest('.modal');
                const targetModalId = button.getAttribute('data-modal-target');
                const targetModal = document.getElementById(targetModalId);
                if(currentModal) closeModal(currentModal, () => {
                     if(targetModal) openModal(targetModal);
                });
            });
        });

        function openModal(modal) {
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modal.querySelector('.modal-content').classList.remove('scale-95');
            }, 10);
        }

        function closeModal(modal, callback) {
            modal.classList.add('opacity-0');
            modal.querySelector('.modal-content').classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
                if (callback) callback();
            }, 300);
        }
        
        // --- FOOTER YEAR ---
        document.getElementById('current-year').textContent = new Date().getFullYear();

    });
    </script>
    <!-- GALLERY & UI SCRIPT -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Photo gallery : utiliser des images statiques depuis blog/static/blog/Images/
        const photoGallery = document.getElementById('photo-gallery');
        const images = [
            {thumb: "{% static 'blog/Images/campus.jpg' %}", full: "{% static 'blog/Images/campus.jpg' %}"},
            {thumb: "{% static 'blog/Images/grotte.jpg' %}", full: "{% static 'blog/Images/grotte.jpg' %}"},
            {thumb: "{% static 'blog/Images/facade.jpg' %}", full: "{% static 'blog/Images/facade.jpg' %}"},
            {thumb: "{% static 'blog/Images/primaire.jpg' %}", full: "{% static 'blog/Images/primaire.jpg' %}"},
            {thumb: "{% static 'blog/Images/cours.jpg' %}", full: "{% static 'blog/Images/cours.jpg' %}"},
            {thumb: "{% static 'blog/Images/cinquantenaire.jpg' %}", full: "{% static 'blog/Images/cinquantenaire.jpg' %}"},
            {thumb: "{% static 'blog/Images/point.jpg' %}", full: "{% static 'blog/Images/point.jpg' %}"},
            {thumb: "{% static 'blog/Images/drapeau.jpg' %}", full: "{% static 'blog/Images/drapeau.jpg' %}"}
        ];

        // Insérer thumbs
        images.forEach((img, index) => {
            const a = document.createElement('a');
            a.href = img.full;
            a.className = "block relative overflow-hidden rounded-lg shadow-md";
            a.innerHTML = `<img src="${img.thumb}" alt="Photo ${index+1}" class="w-full h-48 object-cover transform hover:scale-105 transition-transform duration-300">`;
            a.addEventListener('click', (e) => {
                e.preventDefault();
                // ouvrir en nouvelle fenêtre pour simplicité (lightbox peut être ajouté)
                window.open(img.full, '_blank', 'noopener');
            });
             photoGallery.appendChild(a);
        });

        document.getElementById('current-year').textContent = new Date().getFullYear();
    });
    </script>
    <script>
/* Fix: unify donation modal handlers (places before </body>) */
(function(){
    function openModalById(id){
        const modal = document.getElementById(id);
        if(!modal) return;
        // close others
        document.querySelectorAll('.modal').forEach(m => {
            if(m !== modal) m.classList.add('hidden'), m.classList.remove('flex');
        });
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        const content = modal.querySelector('.modal-content');
        if(content) content.classList.remove('scale-95');
    }
    function closeModal(modal){
        if(!modal) return;
        modal.classList.remove('flex');
        modal.classList.add('hidden');
        const content = modal.querySelector('.modal-content');
        if(content) content.classList.add('scale-95');
    }

    // Openers
    document.querySelectorAll('[data-modal-target]').forEach(btn => {
        btn.addEventListener('click', function(e){
            e.preventDefault();
            const targetId = this.getAttribute('data-modal-target');
            if(targetId) openModalById(targetId);
        });
    });

    // Close buttons (×)
    document.querySelectorAll('.modal-close').forEach(btn => {
        btn.addEventListener('click', function(e){
            const modal = this.closest('.modal');
            closeModal(modal);
        });
    });

    // Close on backdrop click
    document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', function(e){
            if(e.target === modal) closeModal(modal);
        });
    });

    // Close on Escape
    document.addEventListener('keydown', function(e){
        if(e.key === 'Escape'){
            document.querySelectorAll('.modal.flex').forEach(m => closeModal(m));
        }
    });
})();
</script>

<!-- SCRIPT UNIFIÉ ET CORRIGÉ -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- MENU HAMBURGER ---
        const hamburgerButton = document.getElementById('hamburger-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const closeMenuButton = document.getElementById('close-menu-button');
        const mobileLinks = document.querySelectorAll('.mobile-link');
        if (hamburgerButton) hamburgerButton.addEventListener('click', () => mobileMenu.classList.remove('translate-x-full'));
        if (closeMenuButton) closeMenuButton.addEventListener('click', () => mobileMenu.classList.add('translate-x-full'));
        mobileLinks.forEach(link => link.addEventListener('click', () => mobileMenu.classList.add('translate-x-full')));

        // --- SLIDER D'ARRIÈRE-PLAN ---
        const bgSlider = document.getElementById('bg-slider');
        if (bgSlider) {
            const slides = bgSlider.querySelectorAll('.bg-slide');
            let currentSlide = 0;
            let slideInterval = setInterval(() => showSlide((currentSlide + 1) % slides.length), 7000);
            function showSlide(index) {
                slides.forEach((slide, i) => { slide.style.opacity = i === index ? '1' : '0'; });
                currentSlide = index;
            }
        }

        // --- ANIMATIONS AU DÉFILEMENT ---
        const animatedSections = document.querySelectorAll('.animated-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        animatedSections.forEach(section => observer.observe(section));

        // --- CONTRÔLEUR DE MODALES UNIFIÉ ---
        const modalTriggers = document.querySelectorAll('[data-modal-target]');
        const allModals = document.querySelectorAll('.modal');

        function openModal(modal) {
            if (!modal) return;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            setTimeout(() => { // Permet au navigateur de rendre le 'flex' avant d'animer l'opacité
                modal.classList.remove('opacity-0');
                modal.querySelector('.modal-content')?.classList.remove('opacity-0', 'scale-95');
            }, 20);
        }

        function closeModal(modal) {
            if (!modal) return;
            modal.classList.add('opacity-0');
            modal.querySelector('.modal-content')?.classList.add('opacity-0', 'scale-95');
            setTimeout(() => { // Attend la fin de la transition avant de cacher
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }, 300);
        }

        modalTriggers.forEach(trigger => {
            trigger.addEventListener('click', () => {
                const targetId = trigger.getAttribute('data-modal-target');
                const targetModal = document.getElementById(targetId);
                
                // Si le déclencheur est dans une modale, fermer la modale actuelle d'abord
                const currentModal = trigger.closest('.modal');
                if (currentModal) {
                    closeModal(currentModal);
                }
                
                openModal(targetModal);
            });
        });

        allModals.forEach(modal => {
            // Fermer avec le bouton '×'
            modal.querySelector('.modal-close')?.addEventListener('click', () => closeModal(modal));
            // Fermer en cliquant sur le fond
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal(modal);
            });
        });

        // Fermer avec la touche 'Echap'
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const openModal = document.querySelector('.modal:not(.hidden)');
                if (openModal) closeModal(openModal);
            }
        });

        // --- ANNÉE DU FOOTER ---
        const yearSpan = document.getElementById('current-year');
        if(yearSpan) yearSpan.textContent = new Date().getFullYear();
    });
    </script>
</body>
</html>

